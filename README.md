# 项目说明

基于小熊派/金葫芦开发板的学习仓库，保存 2022 年秋季学期学习《嵌入式系统设计与开发》课程的学习代码和实验代码。

## 文件命名规则

带有 BEAR 表示小熊派的工程项目，其余的基本都是金葫芦的工程项目。

# WEEK08_GPIO_LIGHT

实现目标：通过 GPIO 轮询实现 LED 交替闪烁（绿、蓝）。

开发板：STM32L431RTC6（金葫芦）

实现步骤：

1. CubeMX 设置 LED 的引脚（P8、P9）
2. 配置时钟：80
3. 程序编写
4. 烧入程序

实验结果：认识 GPIO，一个基本的输入输出，可以获取引脚上的状态或设置引脚所对应设备的状态。

实验备注：2022 年秋季学期第八周实验一第一部分。

# WEEK08_BEAR_GPIO_LIGHT

实现目标：通过 GPIO 轮询实现 S3、S4 按键控制 LED 的闪烁。

开发板：STM32L431RTC6（小熊派）

实现步骤：

1. 通过 CubeMX 设置 S3、S4、LED 的引脚，分别为 PB2、PB3、PC13。
2. 打开 Keil5，判断按键行为，S3 按下使 LED 亮，S4 按下使 LED 灭。

   - HAL_GPIO_ReadPin：通过 GPIO 读取这三个设备的状态
   - HAL_GPIO_WritePin：通过 GPIO 设置 LED 的状态

3. 烧入程序

实验结果：认识 GPIO，一个基本的输入输出，可以获取引脚上的状态或设置引脚所对应设备的状态。

实验备注：2022 年秋季学期第八周实验一第二部分。

# WEEK08_BEAR_INTER_GPIO_LIGHT

实现目标：基于小熊派，通过中断实现 S3、S4 按键控制 LED 灯的状态。

实现步骤：

1. 通过 CubeMX 设置 S3、S4、LED 的引脚，分别为 PB2、PB3、PC13
2. S3、S4 设置中断，PC13 设置 GPIO_Output
3. 调用中断回调函数，判断引脚，写对应的 GPIO_WritePin
4. 或者可以在 it.h 文件中写
5. 烧入程序

实验结果：中断就是异常，中断的优先级高于 MCU 正在运行的正常程序，当一个中断产生时，MCU 会优先处理中断，如果处理成功就回到原来的程序中继续执行。中断有：

1. 外部条件：外围设备、硬件断点、访问错误和复位等；
2. 内部条件：指令错误、违反特权级和跟踪等。

> 中断 <=> 异常。每次都对这种区别不大的名词刨根问底的话，我认为这对初学者来说是非常浪费时间的行为，与其去理解名词之间的本质区别，不如多花点时间去探究为什么、怎么做。

实验备注：2022 年秋季学期第八周实验一第三部分。
